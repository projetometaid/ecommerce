<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificado Digital - Checkout</title>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WJR5MN66');</script>
    <!-- End Google Tag Manager -->
    <link rel="stylesheet" href="assets/css/steps.css">
    <link rel="stylesheet" href="assets/css/modal.css">
    <!-- CryptoJS para criptografia AES-256 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js" integrity="sha512-a+SUDuwNzXDvz4XrIcXHuCf089/iJAoN4lmrXJg18XnduKK6YlDHNRalv4yd1N40OKI80tFidF+rqTFKGPoWFQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WJR5MN66"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="checkout-container">
        <!-- Feedback do Protocolo -->
        <div id="protocolo-feedback" class="feedback-container" style="display: none;">
            <div id="protocolo-message" class="feedback-message"></div>
        </div>

        <!-- Steps Container -->
        <div class="steps-container">
            <!-- Step 1: Hor√°rios -->
            <div class="step-content active" id="step-1">
                <h2>Escolha o hor√°rio de atendimento</h2>

                <!-- Hor√°rios -->
                <div class="horarios-container">
                    <div class="horarios-carousel">
                        <div class="horarios-list" id="horarios-list">
                            <!-- Hor√°rios ser√£o inseridos via JS -->
                        </div>
                    </div>
                </div>

                <div class="step-actions">
                    <button class="btn-next" id="btn-step1-next" disabled>Continuar</button>
                </div>
            </div>



            <!-- Step 2: Dados -->
            <div class="step-content" id="step-2">
                <h2>Dados para o Certificado</h2>
                <div class="form-dados" id="form-dados">
                    <!-- Formul√°rio ser√° inserido via JS baseado no tipo escolhido -->
                </div>

                <!-- Feedback de protocolo -->
                <div class="feedback-container" id="protocolo-feedback" style="display: none;">
                    <div class="feedback-message" id="protocolo-message"></div>
                </div>

                <div class="step-actions">
                    <button class="btn-back" id="btn-step2-back">Voltar</button>
                    <button class="btn-next" id="btn-step2-next" disabled>Continuar</button>
                </div>
            </div>

            <!-- Step 3: Dados do Pagador -->
            <div class="step-content" id="step-3">
                <h2>Dados do Pagador PIX</h2>
                <div class="form-container" id="form-container">
                    <!-- Formul√°rio de pagador ser√° inserido via JS -->
                </div>

                <div class="step-actions">
                    <button class="btn-back" id="btn-step3-back">Voltar</button>
                    <button class="btn-next" id="btn-step3-next" disabled>Continuar</button>
                </div>
            </div>

            <!-- Step 4: Resumo -->
            <div class="step-content" id="step-4">
                <h2>Resumo do Pedido</h2>
                <div class="resumo-container" id="resumo-container">
                    <!-- Resumo ser√° inserido via JS -->
                </div>

                <div class="step-actions">
                    <button class="btn-back" id="btn-step4-back">Voltar</button>
                    <button class="btn-next" id="btn-step4-next">Gerar Pagamento</button>
                </div>
            </div>

            <!-- Step 5: Pagamento -->
            <div class="step-content" id="step-5">
                <h2>Pagamento via PIX</h2>
                <div class="pagamento-container">
                    <div class="qr-code-section">
                        <div class="qr-code" id="qr-code">
                            <!-- QR Code ser√° inserido via JS -->
                        </div>
                        <p>Escaneie o QR Code com seu banco</p>
                    </div>

                    <div class="pix-copy-section">
                        <label>Ou copie o c√≥digo PIX:</label>
                        <div class="pix-code-container">
                            <input type="text" id="pix-code" readonly>
                            <button class="btn-copy" id="btn-copy-pix">Copiar</button>
                        </div>
                    </div>

                    <div class="payment-status">
                        <p>Aguardando pagamento...</p>
                        <div class="loading-spinner"></div>
                    </div>
                </div>

                <div class="step-actions">
                    <button class="btn-back" id="btn-step5-back">Voltar</button>
                    <button class="btn-next" id="btn-step5-next" disabled>Verificar Pagamento</button>
                </div>
            </div>

            <!-- Step 6: Confirma√ß√£o -->
            <div class="step-content" id="step-6">
                <h2>Pagamento Confirmado!</h2>
                <div class="confirmacao-container">
                    <div class="success-icon">‚úÖ</div>
                    <h3>Seu certificado est√° sendo processado</h3>
                    <div class="protocolo-info">
                        <p><strong>Protocolo:</strong> <span id="protocolo-numero"></span></p>
                        <p><strong>Previs√£o:</strong> <span id="previsao-entrega"></span></p>
                    </div>

                    <div class="next-steps">
                        <h4>Pr√≥ximos passos:</h4>
                        <ol>
                            <li>Voc√™ receber√° um e-mail com instru√ß√µes</li>
                            <li>Compare√ßa no hor√°rio agendado</li>
                            <li>Traga os documentos necess√°rios</li>
                        </ol>
                    </div>
                </div>

                <div class="step-actions">
                    <button class="btn-primary" id="btn-finalizar">Finalizar</button>
                </div>
            </div>
        </div>
    </div>

    <!--
    ================================================
    üèóÔ∏è CLEAN ARCHITECTURE - SISTEMA MODULAR
    ================================================
    -->

    <!-- ‚úÖ FASE 3: Step 1 - Hor√°rios ATIVO -->
    <!-- Sistema carregado via ES6 Modules -->
    <script type="module" src="src/main.js"></script>
</body>
</html>
