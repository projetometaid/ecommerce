const menuToggle=document.getElementById("menuToggle"),nav=document.getElementById("nav");if(menuToggle&&nav){const e=nav.querySelectorAll("a[href], button:not([disabled])"),t=e[0],n=e[e.length-1],o=e=>{const n=void 0!==e?e:nav.classList.contains("active");menuToggle.classList.toggle("active",!n),nav.classList.toggle("active",!n),menuToggle.setAttribute("aria-expanded",!n),menuToggle.setAttribute("aria-label",n?"Abrir menu de navegação":"Fechar menu de navegação"),n?menuToggle.focus():setTimeout(()=>t.focus(),100)};menuToggle.addEventListener("click",()=>o()),e.forEach(e=>{e.addEventListener("click",()=>o(!1))}),document.addEventListener("click",e=>{!nav.classList.contains("active")||nav.contains(e.target)||menuToggle.contains(e.target)||o(!1)}),nav.addEventListener("keydown",e=>{"Tab"===e.key&&nav.classList.contains("active")&&(e.shiftKey?document.activeElement===t&&(n.focus(),e.preventDefault()):document.activeElement===n&&(t.focus(),e.preventDefault()))}),document.addEventListener("keydown",e=>{"Escape"===e.key&&nav.classList.contains("active")&&o(!1)})}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t||""===t)return void e.preventDefault();const n=document.querySelector(t);if(n){e.preventDefault();const t=80,o=n.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:o,behavior:"smooth"})}})});const header=document.getElementById("header");let lastScroll=0;window.addEventListener("scroll",()=>{const e=window.pageYOffset;header.style.boxShadow=e>100?"0 4px 20px rgba(0, 0, 0, 0.15)":"0 2px 16px rgba(0, 0, 0, 0.1)",lastScroll=e});const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"},observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},observerOptions),animatedElements=document.querySelectorAll(".benefit-card, .certificate-card, .blog-card");function initLucideIcons(){return"undefined"!=typeof lucide&&(lucide.createIcons(),console.log("🎨 Ícones Lucide: carregados"),!0)}if(animatedElements.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",observer.observe(e)}),document.querySelectorAll('a[href="#"]').forEach(e=>{e.addEventListener("click",e=>{e.preventDefault()})}),!initLucideIcons()){let e=0;const t=20,n=setInterval(()=>{e++,(initLucideIcons()||e>=t)&&(clearInterval(n),e>=t&&console.warn("⚠️ Ícones Lucide: timeout no carregamento"))},50)}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/assets/js/sw.js").then(e=>{console.log("✅ Service Worker registrado:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&console.log("🔄 Nova versão disponível! Recarregue a página.")})})}).catch(e=>{console.warn("⚠️ Erro ao registrar Service Worker:",e)})}),window.addEventListener("pagehide",()=>{if(window.WebSocket){performance.getEntriesByType("resource").filter(e=>e.name.includes("ws://")||e.name.includes("wss://")).length>0&&console.log("🔌 Fechando conexões WebSocket para bfcache")}});const reviewsGrid=document.querySelector(".reviews-grid");if(reviewsGrid&&window.innerWidth<=768){let e,t,n=!1;reviewsGrid.addEventListener("mousedown",o=>{n=!0,reviewsGrid.style.cursor="grabbing",e=o.pageX-reviewsGrid.offsetLeft,t=reviewsGrid.scrollLeft}),reviewsGrid.addEventListener("mouseleave",()=>{n=!1,reviewsGrid.style.cursor="grab"}),reviewsGrid.addEventListener("mouseup",()=>{n=!1,reviewsGrid.style.cursor="grab"}),reviewsGrid.addEventListener("mousemove",o=>{if(!n)return;o.preventDefault();const r=2*(o.pageX-reviewsGrid.offsetLeft-e);reviewsGrid.scrollLeft=t-r}),reviewsGrid.style.cursor="grab"}console.log("✅ Site CertDigital carregado com sucesso!"),console.log("📱 Menu mobile:",menuToggle?"ativo":"não encontrado"),console.log("🎯 Rolagem suave: ativa"),console.log("✨ Animações: ativas"),console.log("⭐ Google Reviews:",reviewsGrid?"ativo":"não encontrado");